<!--BANNER-->
<a href=https://dreamscape.myvtex.com/ title=https://dreamscape.myvtex.com/>
 <img src="https://dreamscape.vtexassets.com/assets/vtex.file-manager-graphql/images/923aab7b-457b-4a72-90f9-b4641f810fc2___ffe6b2b6cf146ec503007dc90e070d76.png"/>
</a>

<!--DESAFIO-->
<div style="padding:5px 50px" align="center">
<br><b>Programa de Capacita√ß√£o:</b><br><br>
<a href="https://www.hiringcoders.com.br/" title="https://www.hiringcoders.com.br/">
<img src="https://user-images.githubusercontent.com/104858887/183249767-d2244bdb-c7ec-4b1b-bfab-fd0f42245cc7.svg" height="50px"/></a>
</div>
  
<!--IDEALIZADORES E REALIZADORES-->
<div style="padding:5px 50px" align="center">
<br><b>Idealizadores:</b><br><br>
 <a href="https://careers.vtex.com/" title="https://careers.vtex.com/">
  <img src="https://user-images.githubusercontent.com/104858887/183300217-6a364880-ce71-4d4b-8ac5-50011c718542.svg" height="35px"/></a><span> &nbsp; &nbsp; </span>
 <a href="https://app.gama.academy/" title="https://app.gama.academy/">
  <img src="https://user-images.githubusercontent.com/104858887/183249770-1b021f8d-4256-4152-b469-164dd036347f.png" height="35px"/></a>
</div>

<!--PATROCINADORES-->
<div style="padding:5px 50px" align="center">
<br><b>Patrocinadores:</b><br><br>
 <a href="https://www.amazon.jobs" title="https://www.amazon.jobs">
  <img src="https://user-images.githubusercontent.com/104858887/183286948-48da9e6a-2304-4e14-b3b0-ca171e7e75e1.png" height="35px"/></a><span> &nbsp; &nbsp; </span>
 <a href="https://lebiscuit.gupy.io" title="https://lebiscuit.gupy.io">
  <img src="https://user-images.githubusercontent.com/104858887/183286990-a09d3a4e-b06b-479e-9b4d-58c3e1ea48ca.svg" height="20px"/></a><span> &nbsp; &nbsp; </span>
 <a href="https://jobs.kenoby.com/acct" title="https://jobs.kenoby.com/acct">
  <img src="https://user-images.githubusercontent.com/104858887/183418111-600373bf-a417-42e2-ab72-b0a60a83f04c.png" height="25px"/></a>  
</div>

<!--TECNOLOGIAS-->
<div style="padding:5px 50px" align="center">
<br><b>Tecnologias:</b><br><br>
 <img src="https://img.shields.io/static/v1?label=&message=VS CODE&color=red">
 <img src="https://img.shields.io/static/v1?label=&message=GIT&color=blueviolet">
 <img src="https://img.shields.io/static/v1?label=&message=HTML&color=blue">
 <img src="https://img.shields.io/static/v1?label=&message=CSS&color=orange">
 <img src="https://img.shields.io/static/v1?label=&message=JAVASCRIPT &color=green">
 <img src="https://img.shields.io/badge/-TYPESCRIPT-/?style=flat&color=3178c6">
 <img src="https://img.shields.io/static/v1?label=&message= NODE JS &color=red">
 <img src="https://img.shields.io/badge/-REACT-/?style=flat&color=20232a">
 <img src="https://img.shields.io/static/v1?label=&message=VTEX IO&color=deeppink">
 <img src="https://img.shields.io/static/v1?label=&message=AWS SERVICES&color=orange">
 <img src="https://img.shields.io/badge/-GRAPHQL-/?style=flat&color=e00097">
 <img src="https://img.shields.io/badge/-PYTHON-/?style=flat&color=1e415e">
</div>

<hr>

<!--EQUIPE-->
<h2 style="color: Cyan" align="center">Hiring Coders #3</h2>
<h4>
O Hiring Coders √© um programa de capacita√ß√£o gratuito e sem pr√©-requisitos para ensinar programa√ß√£o.<br>
Atualmente encontra-se na terceira edi√ß√£o, onde foram disponibilizadas 15 mil bolsas de estudos com certifica√ß√µes.
</h4>

<h4>
A fase final √© composta por 60 finalistas, divididos em 6 Casas (Grupos), formando equipes de 10 alunos que realizam o Desafio Final.
</h4>

<hr>

<h3 style="color: Cyan">N√≥s somos a equipe DreamScape </h3>

üî∏ [Alessia Casado](https://www.linkedin.com/in/alessia-casado/)</br>
üî∏ [Amanda Almeida](https://www.linkedin.com/in/amanda-almeida-bab4541ab/)</br>
üî∏ [Arthur Candido](https://www.linkedin.com/in/arthurcandido/)</br>
üî∏ [Ciro Carvalho](https://www.linkedin.com/in/cirocj/)</br>
üî∏ [Michel Negr√£o](https://www.linkedin.com/in/michelnegrao/)</br>
üî∏ [Phelipe Lima](https://www.linkedin.com/in/phenogueira/)</br>
üî∏ [Tiago Feitoza](https://www.linkedin.com/in/tiago-feitoza-oliveira/)</br>
üî∏ [Victor Evangelista](https://www.linkedin.com/in/victor-c%C3%A9sar-dos-santos-evangelista-a440aa230/)</br>

<hr>

<!--SUMARIO-->
### Sum√°rio

:small_blue_diamond: [Desafio Final](#-desafio-final---)
* [Cen√°rio](#cen√°rio)
* [Objetivo](#objetivo)

:small_blue_diamond: [Projeto](#-projeto--)
* [Meios de Comunica√ß√£o](#meios-de-comunica√ß√£o)
* [Organiza√ß√£o das Tarefas](#organiza√ß√£o-das-tarefas)
* [Fluxo de Desenvolvimento (Estrat√©gico)](#fluxo-de-desenvolvimento-estrat√©gico)
* [Extras](#extras)

:small_blue_diamond: [Front-End](#-front-end--)
* [Administrativo da Loja (Gest√£o de Combina√ß√µes)](#administrativo-da-loja-gest√£o-de-combina√ß√µes-link---app-link---menu)
* [P√°gina de produto (Experi√™ncia de Compra)](#p√°gina-de-produto-experi√™ncia-de-compra)

:small_blue_diamond: [Back-End e Banco de Dados](#-back-end-e-banco-de-dados--)
* [DREAMSCAPE](#dreamscape)
* [VTEX IO](#vtex-io)
* [AWS](#aws)

:small_blue_diamond: [Instru√ß√µes de Uso](#-instru√ß√µes-de-uso--)
* [Pr√©-Requisitos](#pr√©-requisitos)
* [Documenta√ß√£o de Uso](#documenta√ß√£o-de-uso)
  * [Sistema de Sugest√µes - Administrador](#sistema-de-sugest√µes---administrador)
  * [Sistema de Sugest√µes - Cliente](#sistema-de-sugest√µes---cliente)
  * [APIs na AWS](#apis-na-aws)

:small_blue_diamond: [Agradecimentos](#--agradecimentos--)

<hr>

<!--DESAFIO FINAL-->
<h2 style="color: #ff6865" align="center">üí• Desafio Final üí• 
 <a href=#sum√°rio><img width="15px" src="https://cdn-icons-png.flaticon.com/512/724/724811.png"/></a>
</h2>


### Cen√°rio

Jo√£o √© dono de uma loja que vende roupas e acess√≥rios.
* A loja possui uma grande base de pedidos, que em sua maioria possui apenas 2 itens;
* Jo√£o quer sugerir produtos que sejam comuns na compra;
* A combina√ß√£o deve permitir a mudan√ßa do carrinho de compras para que n√£o seja enquadrado como venda casada;

Atualmente Jo√£o entra no OMS da VTEX e navega nos pedidos para entender o perfil de compra dos consumidores, em alguns dos casos ele percebeu que a cal√ßa jeans e a camiseta branca s√£o uma combina√ß√£o comum e por isso resolveu montar uma sugest√£o de venda.
* A sugest√£o de venda fez com que o consumidor j√° inicie o carrinho com os itens da combina√ß√£o, agilizando a compra e criando oportunidade para que o comprador adicione mais itens ao carrinho.

### Objetivo
Desenvolver uma <b>funcionalidade que disponibilize</b>, de forma automatizada, <b>sugest√µes de itens combinados com base no hist√≥rico de vendas da loja.</b>

<hr>

<!--PROJETO-->
<h2 style="color: #ff6865" align="center">üíª Projeto üíª <a href=#sum√°rio><img width="15px" src="https://cdn-icons-png.flaticon.com/512/724/724811.png"/></a></h2>

### Resumo do Projeto
<p>
Sugest√µes Inteligentes √© uma aplica√ß√£o desenvolvida para disponibilizar, de forma automatizada, sugest√µes de itens combinados com base no perfil de vendas da loja, usando a regra de combina√ß√µes mais vendidas.<br><br>
A aplica√ß√£o conta com uma p√°gina administrativa que apresenta as sugest√µes para o lojista, onde ele pode gerenci√°-las usando os menus de op√ß√µes.<br><br>
Na p√°gina de cada produto, as sugest√µes aprovadas pelo lojista s√£o apresentadas para o cliente, conforme o produto que est√° sendo visualizado. O cliente pode usufruir desse recurso adicionando as combina√ß√µes diretamente ao carrinho de compras, onde ele pode remover itens das combina√ß√µes.
<p>


### Meios de Comunica√ß√£o
* **Gather:** comunica√ß√£o s√≠ncrona - ambiente de comunica√ß√£o prim√°rio (√°udio e v√≠deo).
* **Slack:** comunica√ß√£o ass√≠ncrona - ambiente de comunica√ß√£o secund√°rio.
* **Whimsical:** quadro branco - ambiente de planejamento e organiza√ß√£o de tarefas.

### Organiza√ß√£o das Tarefas
* [WHIMSICAL - Workspace (Link)](https://whimsical.com/desafio-final-1-2-G6KkDw9UqBjTnHHFz9F34R)
    - Resumos;
    - Lista de Tarefas;
    - Fluxograma de Desenvolvimento;
    - Arquitetura do Projeto;
    - Gera√ß√£o e Distribui√ß√£o de Tarefas;
    - Materiais de Refer√™ncia;
    - Quadro de D√∫vidas;
    - Quadro de Comunica√ß√£o;
    - Datas Importantes;
    - Links Importantes;
    - Documenta√ß√µes de Uso.

### Fluxo de Desenvolvimento (Estrat√©gico)
- Desenvolvimento de um workspace VTEX IO funcional e com boa experi√™ncia de navega√ß√£o;
- Constru√ß√£o de um tema pr√≥prio e responsivo;
- Cria√ß√£o de SKUs;
- Leitura do hist√≥rico de vendas da loja;
- Monitoramento de novas vendas;
- Processamento de combina√ß√µes de SKUs vendidas;
- Armazenamento de dados processados na AWS;
- Disponibiliza√ß√£o da lista de combina√ß√µes para o lojista (Administrativo da Loja);

### Extras
* Apresenta√ß√£o das combina√ß√µes para aprova√ß√£o do lojista no Admin da Loja;
* Disponibiliza√ß√£o das combina√ß√µes aprovadas para os consumidores em um componente React na P√°gina de Produto;
* Automa√ß√£o da cria√ß√£o de URLs de Carrinho que adiciona m√∫ltiplos itens da combina√ß√£o diretamente ao carrinho;
* O cliente pode adicionar cada combina√ß√£o diretamente ao carrinho e dentro carrinho pode remover itens dessa combina√ß√£o.

<hr>
<h2 style="color: #ff6865" align="center">üé® Front-End üé® <a href=#sum√°rio><img width="15px" src="https://cdn-icons-png.flaticon.com/512/724/724811.png"/></a></h2>

### Administrativo da Loja (Gest√£o de Combina√ß√µes) [(Link - App)](https://dreamscape.myvtex.com/admin/app/apps/dreamscape.dreamscape@0.1.11/setup) [(Link - Menu)](https://dreamscape.myvtex.com/admin/smart-suggestion)

* **Apresenta√ß√£o da lista de combina√ß√µes atualizada e ordenada pelo maior n√∫mero de ocorr√™ncias.**
  * **Renderiza√ß√£o de detalhes das SKUs que comp√µem cada combina√ß√£o:**
    - Imagem do produto;
    - Nome do produto;
    - Total de ocorr√™ncias da combina√ß√£o;
    - Status (ativo ou inativo).

  * **Ferramentas:**
    - Op√ß√£o de sele√ß√£o do total de combina√ß√µes que devem aparecer por p√°gina;
    - Bot√µes para avan√ßar e recuar p√°ginas;
    - Bot√£o para alternar o status de apresenta√ß√£o de cada combina√ß√£o (ativo ou inativo);
    - Bot√£o para alterar a espessura da linha;
    - Bot√£o para alternar a visibilidade das colunas (EXIBE TODAS/ESCONDE TODAS/Combina√ß√£o/Ocorr√™ncia/Ativo).
    - Bot√£o para deletar combina√ß√µes;    
    - Campo para buscar combina√ß√µes por nome ou ID da SKU;
    - Filtro de dados por Ativo/Inativo/Todos;        

### P√°gina de produto (Experi√™ncia de Compra)
* **Disponibiliza√ß√£o das combina√ß√µes aprovadas para os clientes;**
    - Na p√°gina de cada produto s√£o apresentadas sugest√µes de combina√ß√µes aprovadas pelo lojista;
    - O consumidor pode interagir com as sugest√µes adicionando combina√ß√µes ao carrinho;
    - No carrinho o consumidor pode remover as SKUs das combina√ß√µes.

<hr>

<!--BACKEND E BANCO DE DADOS-->
<h2 style="color: #ff6865" align="center">ü¶æ Back-End e Banco de Dados üíæ <a href=#sum√°rio><img width="15px" src="https://cdn-icons-png.flaticon.com/512/724/724811.png"/></a></h2>

<h3 style="color:cyan">DREAMSCAPE<h3/>

#### APP/API `dreamscape.backendapi@0.x` [(Link - App)](https://dreamscape.myvtex.com/admin/app/apps/dreamscape.backendapi@0.0.16/setup)
* Aplicativo criado pela equipe DreamScape para conectar o Workspace da VTEX IO com o Back-End e o Banco de Dados na AWS.

<h3 align="center">***</h3>
<h3 style="color:rgb(247,25,99)">VTEX IO</h3>

#### APIs implementadas no projeto
- Master Data V2 (Data Entities) - Busca de pedidos (orders)
- Orders Feed V3 (Get Order) - Coleta de informa√ß√µes dos pedidos
- Orders Broadcast (OrderID) - Ouvinte de novos pedidos

<h3 align="center">***</h3>
<h3 style="color:#ec7211">AWS</h3>

#### DynamoDB AWS
- Banco de dados n√£o relacional, criado para o armazenamento das combina√ß√µes processadas, que s√£o consumidas pelo Administrativo da Loja e pela P√°gina de Produto. 
 - Endpoints:
  - GET allCombination - retorna todas as combina√ß√µes
  - GET combinationsBySkuId - retorna combina√ß√µes que correspondem com o SkuID passado
  - GET occurrencesMoreThan - retorna skus com ocorr√™ncias maiores que
  - GET oneCombination - retorna combina√ß√µes por combination
  - GET oneCombinationByCombinationId - retorna uma combina√ß√£o por combination e combinationId
  - POST combination - cria uma combina√ß√£o por skuId
  - POST skuToCombinate - cria uma lista de combina√ß√µes
  - PUT combinationById - altera o total de ocorr√™ncias e o status (showInShop) da combina√ß√£o
  - DEL combinationById - deleta a combina√ß√£o por skuId
 
#### API Gateway
* Constru√≠do para funcionar como router para o Lambda Functions.
#### Lambda Functions
* Usado para implementar fun√ß√µes de CRUD que interagem com o banco de dados DynamoDB (processamento, consulta e edi√ß√£o de dados).

* **Fun√ß√£o de Processamento de Dados:**
    - Recebe o hist√≥rico de ordens e novas ordens;
        - Para cada ordem, verifica se a ordem foi paga e cont√©m mais de uma SKU:
        - Processa todas as poss√≠veis combina√ß√µes de itens(SKUs) dentro de cada ordem;
        - Soma o total de ocorr√™ncias de cada combina√ß√£o processada;
        - Verifica se a combina√ß√£o j√° existe no banco de dados DynamoDB:
            * Se a combina√ß√£o j√° existir, atualiza a data de cria√ß√£o e o total de ocorr√™ncias no DynamoDB;
            * Se a combina√ß√£o n√£o existir, grava a nova combina√ß√£o no DynamoBD com os seguintes campos:
            ```
            combination: string[] (partition Key)
            combinationId: uuid (sort Key)
            orderDate: 'yyyy-mm-dd'
            createDate: 'yyyy-mm-dd'
            occurrences: integer
            showInShop(default: false): boolean
            ```
<hr>

<!--MANUAL DE USO-->
<h2 style="color: #ff6865" align="center">üìï Instru√ß√µes de Uso üìï <a href=#sum√°rio><img width="15px" src="https://cdn-icons-png.flaticon.com/512/724/724811.png"/></a></h2>

### Pr√©-Requisitos
- Ter uma conta VTEX IO
- Ter instalado:
    - Git
    - Node.js;    
    - VTEX Toolbelt.

### Documenta√ß√£o de Uso
#### Sistema de Sugest√µes - Administrador
* Clone o projeto github para uma m√°quina local;  
 * `git clone https://github.com/emenni/dreamscape-final-project/`
* Abra o terminal de comandos de sua prefer√™ncia
* Dentro do terminal acesse a raiz da pasta do projeto baixado
* Fa√ßa o login na sua conta VTEX:
 * `vtex login dreamscape`
> Obs.: uma p√°gina de login deve abrir no seu navegador padr√£o, entrar com os dados de login e senha da sua conta VTEX 
* Acesse o seu workspace:
 * `vtex use <workspace-name>`
* Caso esteja criando um novo workspace, confirme a cria√ß√£o:
* Digite `y` e pressione a tecla `Enter`
> Obs.: se tudo ocorreu certo, o endere√ßo web do seu workspace ser√° impresso no console do terminal.
* Instale os Apps DreamScape:
 * `vtex install dreamscape.backendapi@0.x`
 * `vtex install dreamscape.dreamscape@0.x`  
* Acesse a p√°gina do seu workspace pelo seu navegador;
 * `vtex browse`
* Crie uma conta para acessar a loja;
* Fa√ßa o login na loja;
* Realize uma compra com v√°rios produtos (esse processo √© gen√©rico, n√£o precisa de um pagamento real;
* Acesse a aba `Admin > Promo√ß√µes > Solu√ß√µes Inteligentes`;
* Todas as combina√ß√µes poss√≠veis devem aparecer.
* Ative uma combina√ß√£o clicando no bot√£o `Ativar`
 
#### Sistema de Sugest√µes - Cliente
- Retorne para a Workspace da loja, acesse a p√°gina de um dos produtos que comprou, e verifique na parte inferior da tela se foram renderizadas as combina√ß√µes.
- Clique no bot√£o de carrinho para adicionar a combina√ß√£o ao carrinho;
- Dentro do carrinho voc√™ pode remover itens da combina√ß√£o.

#### APIs na AWS
Caso queira testar chamadas na API, voc√™ pode utilizar os nossos modelos salvos, que est√£o disponibilizados no POSTMAN.

Acesse o projeto no Postman: [(Link)](https://www.postman.com/dreamscape-public/workspace/dreamscape/documentation/21601187-db4de19b-c17f-4f45-9106-c9cfc1967511?entity=folder-d6103e30-aed1-473d-8853-1eaf0c5da587)

* Crie uma conta POSTMAN, pode ser uma vers√£o gratuita.
* Fa√ßa o fork do projeto;
* Substitua a chave de autentica√ß√£o.
* Agora basta enviar as requisi√ß√µes seguindo os padr√µes existentes

> Obs.: A exclus√£o total ou parcial de dados do banco de dados via chamada direta no endpoint da API n√£o √© poss√≠vel.

Para excluir dados:
* √â permitido excluir combina√ß√µes diretamente pelo admin da loja (Produtos > Sugest√µes Inteligentes)

Para construir ou reconstruir a base de dados com o hist√≥rico de vendas, execute a ferramenta ***rebase***:
* Acesse o Admin da Loja [(Link)](https://dreamscape.myvtex.com/admin/app/apps/dreamscape.backendapi@0.0.16/setup)
* Siga para:
    * Configura√ß√µes da Conta > Meus Aplicativos
* Busque por:
    * BackendApi app
* Click no bot√£o "Salvar"

<hr>

<!--AGRADECIMENTOS-->
<h2 style="color: #ff6865" align="center"> üôè Agradecimentos ü§ù <a href=#sum√°rio><img width="15px" src="https://cdn-icons-png.flaticon.com/512/724/724811.png"/></a></h2>
 
### Agradecemos especiais aos:     
- Idealizadores e Realizadores
    - VTEX
        - Time da VTEX
        - Lal√°
        - Luciano Santos
        - Nat√°lia Molena
    - GAMA ACADEMY
        - Time da Gama
        - Gabi
        - Tio Bruce
        - Tio Fred
        - Yellow Belts
- Patrocinadores:
    - ACCT
    - Lebiscuit
    - AWS
- Mentores
    - Time de Mentores das Lives
    - Time de Mentores dos Desafios
    - Zorza
    - Fernanda
    - Bernardo
    - Reginaldo Oliveira
    - Ana Baptist√£o
- Palestrantes
- Alunos

 Agradecemos tamb√©m a toda a rede de colabora√ß√£o que fez o <b style=color:lightgreen>Hiring Coders #3</b> acontecer e ser um sucesso. üéâüéäüéáü•≥üéÜüéàüöÄ
<hr>

<!--RODAPE-->
<div align=center style="color:cyan; padding:0 10%; line-height: 1;" >
    <b><small style="padding:5px 50px">Este desafio foi proposto pela VTEX em parceria com a Gama Academy durante a etapa final do Hiring Coders #3
    <br><br>
    üêùüêøüêòüêôü¶Öü¶î
    <br><br>
    ¬© DreamScape 2022
    </small></b>
</div>
